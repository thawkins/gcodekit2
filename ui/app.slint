import { StandardButton, TabWidget, VerticalBox, HorizontalBox, Button } from "std-widgets.slint";
import { ThemeProvider, ThemedRectangle, ThemedText, ThemedSecondaryText, ThemeToggleButton } from "theme-provider.slint";

component MenuBar inherits Rectangle {
    background: ThemeProvider.colors.panel;
    height: 50px;
    
    HorizontalLayout {
        padding: 10px;
        spacing: 20px;
        
        ThemedText { text: "File"; font-size: 14px; }
        ThemedText { text: "Machine"; font-size: 14px; }
        ThemedText { text: "View"; font-size: 14px; }
        ThemedText { text: "Tools"; font-size: 14px; }
        ThemedText { text: "Help"; font-size: 14px; }
        
        Rectangle {
            width: 100%;
        }
        
        ThemeToggleButton { }
        
        Rectangle {
            background: ThemeProvider.colors.button;
            width: 40px;
            height: 32px;
            border-radius: 3px;
            
            ThemedText {
                text: "âš™";
                font-size: 16px;
            }
        }
    }
}

component StatusBar inherits Rectangle {
    background: ThemeProvider.colors.panel;
    height: 30px;
    
    HorizontalLayout {
        padding: 5px;
        spacing: 20px;
        
        ThemedText {
            text: "Status: Idle";
            font-size: 11px;
        }
        
        ThemedText {
            text: "Position: X: 0.00 Y: 0.00 Z: 0.00";
            font-size: 11px;
        }
        
        ThemedText {
            text: "Version: GRBL v1.1h";
            font-size: 11px;
        }
    }
}

component LeftPanel inherits Rectangle {
    width: 250px;
    background: ThemeProvider.colors.background;
    
    VerticalLayout {
        padding: 10px;
        spacing: 10px;
        
        ThemedText {
            text: "Machine Control";
            font-weight: 700;
            font-size: 14px;
        }
        
        ThemedRectangle {
            height: 80px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 5px;
                
                ThemedText { text: "Connection"; font-size: 12px; font-weight: 700; }
                ThemedSecondaryText { text: "Status: Connected"; font-size: 11px; }
                ThemedSecondaryText { text: "Port: /dev/ttyACM0"; font-size: 11px; }
            }
        }
        
        ThemedRectangle {
            height: 120px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 5px;
                
                ThemedText { text: "Jog Controls"; font-size: 12px; font-weight: 700; }
                ThemedSecondaryText { text: "Step Size: 1mm"; font-size: 11px; }
                
                HorizontalLayout {
                    spacing: 5px;
                    
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 50px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "X-"; }
                    }
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 50px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "Y+"; }
                    }
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 50px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "X+"; }
                    }
                }
            }
        }
        
        ThemedRectangle {
            height: 100px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 5px;
                
                ThemedText { text: "Overrides"; font-size: 12px; font-weight: 700; }
                ThemedSecondaryText { text: "Feed: 100%"; font-size: 11px; }
                ThemedSecondaryText { text: "Power: 100%"; font-size: 11px; }
            }
        }
    }
}

component CenterPanel inherits Rectangle {
    background: ThemeProvider.colors.background;
    
    VerticalLayout {
        TabWidget {
            Tab {
                title: "G-code Editor";
                Rectangle { background: ThemeProvider.colors.background; }
            }
            Tab {
                title: "3D Visualizer";
                Rectangle { background: ThemeProvider.colors.background; }
            }
            Tab {
                title: "Device Console";
                Rectangle { background: ThemeProvider.colors.background; }
            }
            Tab {
                title: "Job Manager";
                Rectangle { background: ThemeProvider.colors.background; }
            }
            Tab {
                title: "Designer";
                Rectangle { background: ThemeProvider.colors.background; }
            }
        }
    }
}

component RightPanel inherits Rectangle {
    width: 250px;
    background: ThemeProvider.colors.background;
    
    VerticalLayout {
        padding: 10px;
        spacing: 10px;
        
        ThemedText {
            text: "CAM Functions";
            font-weight: 700;
            font-size: 14px;
        }
        
        ThemedRectangle {
            height: 100px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 5px;
                
                ThemedText { text: "Shape Generation"; font-size: 12px; font-weight: 700; }
                HorizontalLayout {
                    spacing: 5px;
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 80px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "Rectangle"; }
                    }
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 80px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "Circle"; }
                    }
                }
            }
        }
        
        ThemedRectangle {
            height: 100px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 5px;
                
                ThemedText { text: "Import"; font-size: 12px; font-weight: 700; }
                HorizontalLayout {
                    spacing: 5px;
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 80px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "SVG/DXF"; }
                    }
                    Rectangle {
                        background: ThemeProvider.colors.button;
                        width: 80px;
                        height: 32px;
                        border-radius: 3px;
                        ThemedText { text: "Image"; }
                    }
                }
            }
        }
        
        ThemedRectangle {
            height: 80px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 5px;
                
                ThemedText { text: "Materials"; font-size: 12px; font-weight: 700; }
                ThemedSecondaryText { text: "Database loaded"; font-size: 11px; }
            }
        }
    }
}

export component AppWindow inherits Window {
    width: 1600px;
    height: 1000px;
    title: "GCodeKit2 - GRBL Control v0.1.0-alpha";
    
    VerticalLayout {
        spacing: 0px;
        padding: 0px;
        
        MenuBar { }
        
        HorizontalLayout {
            spacing: 0px;
            padding: 0px;
            
            LeftPanel { }
            CenterPanel { }
            RightPanel { }
        }
        
        StatusBar { }
    }
}
