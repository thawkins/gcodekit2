//! Application main window and layout
//!
//! Main entry point for the GCodeKit2 UI application with modular components.

import { ThemeProvider } from "theme/mod.slint";
import { InteractiveButton } from "widgets/interactive-button.slint";
import { MenuBar } from "widgets/menu-bar.slint";
import { StatusBar } from "widgets/status-bar.slint";
import { LeftPanel } from "panels/left-panel.slint";
import { CenterPanel } from "panels/center-panel.slint";
import { RightPanel } from "panels/right-panel.slint";

export component AppWindow inherits Window {
    width: 1600px;
    height: 1000px;
    title: "GCodeKit2 - GRBL Control v0.2.0-alpha";
    
    // Connection callbacks
    callback refresh-ports();
    callback connect(string);
    callback disconnect();
    
    // Connection state properties
    in property <[string]> available-ports;
    in property <string> selected-port;
    in property <bool> is-connected;
    in property <string> connection-status: "Disconnected";
    
    VerticalLayout {
        spacing: 0px;
        padding: 0px;
        
        MenuBar {
            settings_requested => {
                // TODO: Show settings panel
            }
        }
        
        HorizontalLayout {
            spacing: 0px;
            padding: 0px;
            
            LeftPanel { }
            CenterPanel { }
            RightPanel { }
        }
        
        StatusBar { }
    }
}
